<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gezi Rehberim</title>
  <link rel="icon" type="image/png" href="/img/icon.png">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap Icons CDN -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css">
  <style>
    text {
      font-size: 10px;
      font-weight: bold;
    }

    #chart {
      width: 500px;
      height: 500px;
    }

    #question {
      width: 400px;
    }

    #question h1 {
      font-size: 30px;
      font-weight: bold;

    }

    .center-content {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      /* Viewport yüksekliği */
    }

    .center-content>div {
      text-align: center;
    }
  </style>

</head>

<body>
  <!-- Hava Durumu Start -->
  <div id="id361ea65fd227e"
    a='{"t":"g7bs","v":"1.2","lang":"tr","locs":[1474],"ssot":"c","sics":"ds","cbkg":"rgba(255,255,255,0)","cfnt":"rgb(0,0,0)","cend":"rgba(0,0,0,0)","slis":36,"slfs":17}'>
    Hava Durumu Veri Kaynağı: <a
      href="https://sharpweather.com/weather_istanbul/30_days/">sharpweather.com/weather_istanbul/30_days/</a>
  </div>
  <script async src="https://static1.sharpweather.com/widgetjs/?id=id361ea65fd227e"></script>
  <!-- Hava Durumu End -->

  <!-- Navbar Start -->
  <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
    <div class="container d-flex justify-content-between">
      <a class="navbar-brand" href="/templates/index.html"><img src="/img/icon.png" alt="Istanbul Image">Gezi
        Rehberim </a>
      <div class="d-flex flex-grow-1 justify-content-center">
        <form id="search-form" class="d-flex mx-auto" role="search">
          <input id="search-input" class="form-control search-input" type="search" placeholder="Search"
            aria-label="Search">
        </form>
        <div id="search-results" class="mt-3"></div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link  me-2" aria-current="page" href="/templates/istanbul.html"><img src="/img/icon2.png"
                alt="Istanbul Image">İstanbul</a>
          </li>
          <li class="nav-item">
            <a class="nav-link me-2" href="/templates/plan.html">Plan Oluştur</a>
          </li>
          <li class="nav-item dropdown me-2">
            <a class="nav-link dropdown" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <i class="bi bi-bell-fill"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-notifications"
              aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="#">Kullanmadığın kupan var!</a></li>
              <li><a class="dropdown-item" href="#">Gezmeye Hazır mısın?</a></li>
              <li><a class="dropdown-item" href="#">Çarkı çevir, kupon kazan!</a></li>
              <li><a class="dropdown-item" href="#">Notification 4</a></li>
              <li><a class="dropdown-item" href="#"></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-fill ps-1"></i>
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/templates/about.html">Bilgilerim</a></li>
              <li><a class="dropdown-item" href="/templates/index.html">Çarkı Çevir</a></li>
              <li><a class="dropdown-item" href="/templates/login.html">Kayıt Ol / Giriş Yap</a></li>
              <li><a class="dropdown-item" href="/templates/login.html">Çıkış</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Navbar End -->


  <!-- Çark Start -->
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div id="chart"></div>
        <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
      </div>
      <div class="col-md-6 mt-5">
        <div class="card">
          <div class="card-header border-0 bg-white">
            <h3> Çevir Kazan</h3>
          </div>
          <div class="card-body">
            <p class="card-text">
            <div id="question">
              <h1></h1>
            </div>
            </p>
            <a href="#" id="spin-button" class="btn btn-primary w-50 mb-3">Çarkı Çevir</a>
            <a href="/templates/plan.html" class="btn btn-primary w-50">Plan Oluştur</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Çark End -->


  <!-- Footer Start -->
  <footer class="site-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-5 pe-5">
          <h6 class="mb-3">HAKKIMIZDA</h6>
          <p class="text-justify">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia aliquam eaque
            harum officia, facere ipsam quod optio est excepturi, corrupti repudiandae nam expedita
            reiciendis vero obcaecati. Reiciendis ducimus impedit, in dolore atque quibusdam quod, hic
            aperiam quidem vitae error, deleniti labore et doloremque accusantium rem enim neque
            voluptatibus dolor explicabo.</p>
        </div>
        <div class="col-xs-6 col-md-5">
          <h6 class="mb-3">İLÇELER</h6>
          <div class="row row-cols-3">
            <div class="col">
              <ul id="ilce-listesi-1" class="footer-links"></ul>
            </div>
            <div class="col">
              <ul id="ilce-listesi-2" class="footer-links"></ul>
            </div>
            <div class="col">
              <ul id="ilce-listesi-3" class="footer-links"></ul>
            </div>
          </div>
        </div>
        <div class="col-xs-6 col-md-2 ms-0">
          <h6 class="">www.gezirehberim.com</h6>
          <ul class="footer-links">
            <li><a href="">Hakkımızda</a></li>
            <li><a href="">Kullanım Şartları</a></li>
            <li><a href="">Medyada Biz</a></li>
            <li><a href="">Gizlilik</a></li>
            <li><a href="">İletişim</a></li>
          </ul>
        </div>
      </div>
      <hr>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-8 col-sm-6 col-xs-12">
          <p class="copyright-text">Copyright &copy; 2024 All Rights Reserved by <a href="#">Scanfcode</a>.
          </p>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <ul class="social-icons">
            <li><a class="facebook" href="#"><i class="bi bi-facebook"></i></a></li>
            <li><a class="twitter" href="#"><i class="bi bi-twitter"></i></a></li>
            <li><a class="dribbble" href="#"><i class="bi bi-dribbble"></i></a></li>
            <li><a class="linkedin" href="#"><i class="bi bi-linkedin"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>
  <!-- Footer End -->

  <!-- Bootstrap Script -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <!-- JS -->
  <script src="/js/app.js"></script>
  <!-- WHEEL JS -->
  <script>
    var padding = { top: 20, right: 40, bottom: 0, left: 0 },
      w = 500 - padding.left - padding.right,
      h = 500 - padding.top - padding.bottom,
      r = Math.min(w, h) / 2,
      rotation = 0,
      oldrotation = 0,
      picked = 100000,
      oldpick = [],
      color = d3.scale.category20();//category20c()
    //randomNumbers = getRandomNumbers();
    //http://osric.com/bingo-card-generator/?title=HTML+and+CSS+BINGO!&words=padding%2Cfont-family%2Ccolor%2Cfont-weight%2Cfont-size%2Cbackground-color%2Cnesting%2Cbottom%2Csans-serif%2Cperiod%2Cpound+sign%2C%EF%B9%A4body%EF%B9%A5%2C%EF%B9%A4ul%EF%B9%A5%2C%EF%B9%A4h1%EF%B9%A5%2Cmargin%2C%3C++%3E%2C{+}%2C%EF%B9%A4p%EF%B9%A5%2C%EF%B9%A4!DOCTYPE+html%EF%B9%A5%2C%EF%B9%A4head%EF%B9%A5%2Ccolon%2C%EF%B9%A4style%EF%B9%A5%2C.html%2CHTML%2CCSS%2CJavaScript%2Cborder&freespace=true&freespaceValue=Web+Design+Master&freespaceRandom=false&width=5&height=5&number=35#results
    var data = [
      { "label": "Tekrar Deneyiniz", "value": 1, "question": "Tekrar Deneyiniz" },
      { "label": "%20 İndirim", "value": 2, "question": "İndirim Kodu: INDIRIM20" },
      { "label": "%30 İndirim", "value": 3, "question": "İndirim Kodu: INDIRIM30" },
      { "label": "Kahve Kazandınız!", "value": 4, "question": "Kahve Kodu: KAHVEMİVER" },
      { "label": "Patates Kızartması Kazandınız!", "value": 5, "question": "Patates Kodu: PATATESİMİVER" },
      { "label": "Tekrar Deneyiniz", "value": 6, "question": "Tekrar Deneyiniz" },
      { "label": "%20 İndirim", "value": 7, "question": "İndirim Kodu: INDIRIM20" },
      { "label": "%30 İndirim", "value": 8, "question": "İndirim Kodu: INDIRIM30" },
      { "label": "Kahve Kazandınız!", "value": 9, "question": "Kahve Kodu: KAHVEMİVER" },
      { "label": "Patates Kızartması Kazandınız!", "value": 5, "question": "Patates Kodu: PATATESİMİVER" },
    ];
    var svg = d3.select('#chart')
      .append("svg")
      .data([data])
      .attr("width", w + padding.left + padding.right)
      .attr("height", h + padding.top + padding.bottom);
    var container = svg.append("g")
      .attr("class", "chartholder")
      .attr("transform", "translate(" + (w / 2 + padding.left) + "," + (h / 2 + padding.top) + ")");
    var vis = container
      .append("g");

    var pie = d3.layout.pie().sort(null).value(function (d) { return 1; });
    // declare an arc generator function
    var arc = d3.svg.arc().outerRadius(r);
    // select paths, use arc generator to draw
    var arcs = vis.selectAll("g.slice")
      .data(pie)
      .enter()
      .append("g")
      .attr("class", "slice");

    arcs.append("path")
      .attr("fill", function (d, i) { return color(i); })
      .attr("d", function (d) { return arc(d); });
    // add the text
    arcs.append("text").attr("transform", function (d) {
      d.innerRadius = 0;
      d.outerRadius = r;
      d.angle = (d.startAngle + d.endAngle) / 2;
      return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")translate(" + (d.outerRadius - 10) + ")";
    })
      .attr("text-anchor", "end")
      .text(function (d, i) {
        return data[i].label;
      });
    container.on("click", spin);
    function spin(d) {

      container.on("click", null);
      //all slices have been seen, all done
      console.log("OldPick: " + oldpick.length, "Data length: " + data.length);
      if (oldpick.length == data.length) {
        console.log("done");
        container.on("click", null);
        return;
      }
      var ps = 360 / data.length,
        pieslice = Math.round(1440 / data.length),
        rng = Math.floor((Math.random() * 1440) + 360);

      rotation = (Math.round(rng / ps) * ps);

      picked = Math.round(data.length - (rotation % 360) / ps);
      picked = picked >= data.length ? (picked % data.length) : picked;
      if (oldpick.indexOf(picked) !== -1) {
        d3.select(this).call(spin);
        return;
      } else {
        oldpick.push(picked);
      }
      rotation += 90 - Math.round(ps / 2);
      vis.transition()
        .duration(3000)
        .attrTween("transform", rotTween)
        .each("end", function () {
          //mark question as seen
          d3.select(".slice:nth-child(" + (picked + 1) + ") path")
            .attr("fill", "#111");
          //populate question
          d3.select("#question h1")
            .text(data[picked].question);
          oldrotation = rotation;

          /* Get the result value from object "data" */
          console.log(data[picked].value)

          /* Comment the below line for restrict spin to sngle time */
          container.on("click", spin);
        });
    }
    //make arrow
    svg.append("g")
      .attr("transform", "translate(" + (w + padding.left + padding.right) + "," + ((h / 2) + padding.top) + ")")
      .append("path")
      .attr("d", "M-" + (r * .15) + ",0L0," + (r * .05) + "L0,-" + (r * .05) + "Z")
      .style({ "fill": "black" });
    //draw spin circle
    container.append("circle")
      .attr("cx", 0)
      .attr("cy", 0)
      .attr("r", 60)
      .style({ "fill": "white", "cursor": "pointer" });
    //spin text
    container.append("text")
      .attr("x", 0)
      .attr("y", 15)
      .attr("text-anchor", "middle")
      .text("Çevir")
      .style({ "font-weight": "bold", "font-size": "40px" });


    function rotTween(to) {
      var i = d3.interpolate(oldrotation % 360, rotation);
      return function (t) {
        return "rotate(" + i(t) + ")";
      };
    }

    document.getElementById('spin-button').addEventListener('click', spin);
  </script>



</body>

</html>